<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Portfolio</title>
<link>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs.html</link>
<atom:link href="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs.xml" rel="self" type="application/rss+xml"/>
<description>Pawan</description>
<generator>quarto-1.8.26</generator>
<lastBuildDate>Tue, 25 Nov 2025 18:30:00 GMT</lastBuildDate>
<item>
  <title>Fertilizer Statistics</title>
  <dc:creator>Pawan </dc:creator>
  <link>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fertilizer.html</link>
  <description><![CDATA[ 




<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(data.table)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">options</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scipen=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">99999</span>)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(showtext)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyr)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(dplyr)</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fertilizer/urea_importqty.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb1-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fertilizer/dap_importqty.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t2</span>
<span id="cb1-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fertilizer/rock_phosphate_importqty.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t3</span>
<span id="cb1-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fertilizer/phosphoric_acid_importqty.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t4</span>
<span id="cb1-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fertilizer/potash_importqty.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t5</span>
<span id="cb1-13"></span>
<span id="cb1-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth</span>
<span id="cb1-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, t2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth</span>
<span id="cb1-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, t3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth</span>
<span id="cb1-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, t4<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t4<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth</span>
<span id="cb1-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, t5<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t5<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth</span>
<span id="cb1-19"></span>
<span id="cb1-20">t1[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth),</span>
<span id="cb1-21">                                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) ,.(Country, Year, Month)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>urea</span>
<span id="cb1-22"></span>
<span id="cb1-23">urea[,Date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(Year,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,Month,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%b-%d"</span>)]</span>
<span id="cb1-24">t1[,.(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth),</span>
<span id="cb1-25">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) ,.(Year, Country)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>a</span>
<span id="cb1-26"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##as.data.frame(a[order(Year,V1)])</span></span>
<span id="cb1-27">t2[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth),</span>
<span id="cb1-28">                                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) ,.(Country, Year, Month)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>dap</span>
<span id="cb1-29">dap[,Date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(Year,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,Month,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%b-%d"</span>)]</span>
<span id="cb1-30">t5[Country<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)),.(Country,Year,Month)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>mop</span>
<span id="cb1-31"></span>
<span id="cb1-32">t1[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth),</span>
<span id="cb1-33">                                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) ,.(Country, Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb1-34">t2[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth),</span>
<span id="cb1-35">                                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) ,.(Country, Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t2</span>
<span id="cb1-36">t3[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth),</span>
<span id="cb1-37">                                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) ,.(Country, Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t3</span>
<span id="cb1-38">t4[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth),</span>
<span id="cb1-39">                                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) ,.(Country, Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t4</span>
<span id="cb1-40">t5[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth),</span>
<span id="cb1-41">                                     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)) ,.(Country, Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t5</span>
<span id="cb1-42"></span>
<span id="cb1-43">t1[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CHINA P RP"</span>, Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CHINA"</span>]</span>
<span id="cb1-44">t1[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EGYPT A RP"</span>, Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EGYPT"</span>]</span>
<span id="cb1-45">t1[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CHINA"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OMAN"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-46">             Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"IRAN"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"UKRAINE"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-47">         Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EGYPT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RUSSIA"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-48">                   Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"INDONESIA"</span>, Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OTHER COUNTRY"</span>]</span>
<span id="cb1-49"></span>
<span id="cb1-50"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OTHER COUNTRY"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"INDONESIA"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EGYPT"</span>,</span>
<span id="cb1-51">                                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RUSSIA"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"UKRAINE"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OMAN"</span>,</span>
<span id="cb1-52">                                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"IRAN"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CHINA"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country</span>
<span id="cb1-53"></span>
<span id="cb1-54">  t2[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CHINA P RP"</span>, Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CHINA"</span>]</span>
<span id="cb1-55">  t2[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CHINA"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SAUDI ARAB"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-56">     Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MOROCCO"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"JORDAN"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-57">     Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RUSSIA"</span>, Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OTHER COUNTRY"</span>]</span>
<span id="cb1-58">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(t2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OTHER COUNTRY"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MOROCCO"</span>,</span>
<span id="cb1-59">                                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"JORDAN"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RUSSIA"</span>,</span>
<span id="cb1-60">                                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CHINA"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SAUDI ARAB"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country</span>
<span id="cb1-61"></span>
<span id="cb1-62">  t3[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EGYPT A RP"</span>, Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EGYPT"</span>]</span>
<span id="cb1-63">  t3[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EGYPT"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"JORDAN"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-64">     Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MOROCCO"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PERU"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-65">     Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TOGO"</span>, Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OTHER COUNTRY"</span>]</span>
<span id="cb1-66">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(t3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OTHER COUNTRY"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PERU"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TOGO"</span>,</span>
<span id="cb1-67">                                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"EGYPT"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MOROCCO"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"JORDAN"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country</span>
<span id="cb1-68"></span>
<span id="cb1-69">  t4[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MOROCCO"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"JORDAN"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-70">     Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SENEGAL"</span>, Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OTHER COUNTRY"</span>]</span>
<span id="cb1-71"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(t4<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OTHER COUNTRY"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SENEGAL"</span>,</span>
<span id="cb1-72">                               <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"JORDAN"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MOROCCO"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t4<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country</span>
<span id="cb1-73"></span>
<span id="cb1-74">t5[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CANADA"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BELARUS"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-75">   Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ISRAEL"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"JORDAN"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span></span>
<span id="cb1-76">   Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LITHUANIA"</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RUSSIA"</span>,</span>
<span id="cb1-77">   Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OTHER COUNTRY"</span>]</span>
<span id="cb1-78"></span>
<span id="cb1-79"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(t5<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OTHER COUNTRY"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RUSSIA"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"LITHUANIA"</span>,</span>
<span id="cb1-80">                                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"JORDAN"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ISRAEL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BELARUS"</span>,                                </span>
<span id="cb1-81">                                <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CANADA"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t5<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country</span>
<span id="cb1-82"></span>
<span id="cb1-83">t1[, Qty <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> Qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100000</span>][Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2015"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)) ,.(Country, Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb1-84">t2[, Qty <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> Qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100000</span>][Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2015"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)) ,.(Country, Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t2</span>
<span id="cb1-85">t3[, Qty <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> Qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100000</span>][Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2015"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)) ,.(Country, Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t3</span>
<span id="cb1-86">t4[, Qty <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> Qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100000</span>][Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2015"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)) ,.(Country, Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t4</span>
<span id="cb1-87">t5[, Qty <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> Qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100000</span>][Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2015"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)) ,.(Country, Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t5</span>
<span id="cb1-88"></span>
<span id="cb1-89">t1[ ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Percent =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)), Country, Qty) ,.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb1-90">t2[ ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Percent =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)), Country, Qty) ,.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t2</span>
<span id="cb1-91">t3[ ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Percent =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)), Country, Qty) ,.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t3</span>
<span id="cb1-92">t4[ ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Percent =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)), Country, Qty) ,.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t4</span>
<span id="cb1-93">t5[ ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Percent =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)), Country, Qty) ,.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t5</span></code></pre></div></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">my_theme <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">16</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>  <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Start with theme_bw and increase base size</span></span>
<span id="cb2-2">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"serif"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#333333"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set font family and color</span></span>
<span id="cb2-3">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bold"</span>,</span>
<span id="cb2-4">                                      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">margin =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">margin</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Center and style title</span></span>
<span id="cb2-5">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>),</span>
<span id="cb2-6">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>),</span>
<span id="cb2-7">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,</span>
<span id="cb2-8">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),  <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Remove legend title</span></span>
<span id="cb2-9">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#EEEEEE"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Lighter grid lines</span></span>
<span id="cb2-10">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.border =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Remove panel border</span></span>
<span id="cb2-11">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.line =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#333333"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Add axis lines</span></span>
<span id="cb2-12">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb2-13">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">strip.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#F2F2F2"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>) <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Style facet strips (if used)</span></span>
<span id="cb2-14">            )</span></code></pre></div></div>
</details>
</div>
<section id="urea-import" class="level1">
<h1>Urea Import</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t1, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Country)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-2">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-3">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(Percent<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Percent, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>))),</span>
<span id="cb3-4">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-5">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set bar color</span></span>
<span id="cb3-6">      my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-7">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">label_comma</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-8">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Urea Imports"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-9">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Qty (Million Tonnes)"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p1</span>
<span id="cb3-10">  p1</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fertilizer_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="dap-import" class="level1">
<h1>DAP Import</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t2, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Country)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-2">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-3">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(Percent<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Percent, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>))),</span>
<span id="cb4-4">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set bar color</span></span>
<span id="cb4-6">      my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-7">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">label_comma</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-8">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DAP Imports"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-9">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Qty (Million Tonnes)"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p2</span>
<span id="cb4-10">  p2</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fertilizer_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="rock-phosphate-import" class="level1">
<h1>Rock Phosphate Import</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">   <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t3, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Country)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-2">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-3">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(Percent<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Percent, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>))),</span>
<span id="cb5-4">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-5">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set bar color</span></span>
<span id="cb5-6">      my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-7">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">label_comma</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-8">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rock Phosphate Imports"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-9">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Qty (Million Tonnes)"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p3</span>
<span id="cb5-10">  p3</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fertilizer_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="phosphoric-acid-imports" class="level1">
<h1>Phosphoric Acid Imports</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t4, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Country)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-2">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-3">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(Percent<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Percent, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>))),</span>
<span id="cb6-4">                <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-5">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set bar color</span></span>
<span id="cb6-6">      my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-7">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">label_comma</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-8">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Phosphoric Acid Imports"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-9">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Qty (Million Tonnes)"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p4</span>
<span id="cb6-10">  p4</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fertilizer_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="mop-imports" class="level1">
<h1>MOP Imports</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t5, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Country)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(Percent<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Percent, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>))),</span>
<span id="cb7-4">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set bar color</span></span>
<span id="cb7-6">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">label_comma</span>()) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MOP Imports"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Qty (Million Tonnes)"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p5</span>
<span id="cb7-10">p5</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fertilizer_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="international-fertilizer-price" class="level1">
<h1>International Fertilizer Price</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fread</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fertilizer/international_fert_price.csv"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>price</span>
<span id="cb8-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"20"</span>, price<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>price<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year</span>
<span id="cb8-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(price<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>price<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month</span>
<span id="cb8-4">  price[, Date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(Year, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, Month, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>),</span>
<span id="cb8-5">                        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">format =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%b-%d"</span>)]</span>
<span id="cb8-6">  </span>
<span id="cb8-7">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(price, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Month"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>price</span>
<span id="cb8-8">  price[variable <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Urea"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DAP"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MOP"</span>)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>price</span>
<span id="cb8-9"></span>
<span id="cb8-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(price, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> variable)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-11">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>variable) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-12">      my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-13">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (USD/MT)"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Month"</span>,</span>
<span id="cb8-14">           <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fertilizer International Price"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-15">      <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%b, %y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"6 months"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb8-16">  p</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fertilizer_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="fertilizer-production" class="level1">
<h1>Fertilizer Production</h1>
<p>Urea and DAP production by India</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fertilizer/production-import/fert_production_import.RDS"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fert</span>
<span id="cb9-2">fert[Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fert</span>
<span id="cb9-3">fert[,Date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(Year,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,Month,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%b-%d"</span>)]</span>
<span id="cb9-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(fert,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Month"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fert</span>
<span id="cb9-5">fert[variable<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SNo"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>variable<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Blank"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fert</span>
<span id="cb9-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">separate</span>(fert,variable,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">into=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fertilizer"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Variable"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"_"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fert</span>
<span id="cb9-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setDT</span>(fert)</span>
<span id="cb9-8">fert[Variable<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Production"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>prod</span>
<span id="cb9-9">fert[Variable<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Import"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>import</span>
<span id="cb9-10"></span>
<span id="cb9-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fread</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fertilizer/production-import.csv"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fert1</span>
<span id="cb9-12">fert1[,Date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(Year,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,Month,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%b-%d"</span>)]</span>
<span id="cb9-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(fert1,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Month"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fertilizer"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fert1</span>
<span id="cb9-14">fert1[variable <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Production_Achievement"</span>, variable <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Production"</span>]</span>
<span id="cb9-15">fert1[variable <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Production"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>prod1</span>
<span id="cb9-16">fert1[variable <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Import"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>import1</span>
<span id="cb9-17"></span>
<span id="cb9-18">prod[,value<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span>value<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100000</span>]</span>
<span id="cb9-19"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(prod<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>prod<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year</span>
<span id="cb9-20"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(prod1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>prod1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year</span>
<span id="cb9-21"></span>
<span id="cb9-22"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(</span>
<span id="cb9-23">    prod[Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2018</span>,.(Year,Month,Date,Fertilizer,value)],</span>
<span id="cb9-24">    prod1[,.(Year,Month,Date,Fertilizer,value)])<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb9-25"></span>
<span id="cb9-26">t[Fertilizer<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Urea"</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span>Fertilizer<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DAP"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb9-27">t[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(value)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb9-28">t[Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2025"</span>,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(value)),.(Year,Fertilizer)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb9-29"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##t[,.(Percent=round(Qty*100/sum(Qty)),Variable,Qty),.(Year,Fertilizer)]-&gt;t</span></span>
<span id="cb9-30"></span>
<span id="cb9-31"></span>
<span id="cb9-32"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> Fertilizer)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-33">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-34">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set bar color</span></span>
<span id="cb9-35">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-36">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>Fertilizer, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">scales =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"free"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ncol =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-37">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Qty (Million Tonnes)"</span>,</span>
<span id="cb9-38">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">title =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Urea and DAP Production in India"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-39">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">breaks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">seq</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1990</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2025</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb9-40"></span>
<span id="cb9-41">p</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fertilizer_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>

 ]]></description>
  <category>Trade</category>
  <category>Fertilizer</category>
  <guid>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fertilizer.html</guid>
  <pubDate>Tue, 25 Nov 2025 18:30:00 GMT</pubDate>
</item>
<item>
  <title>PLFS</title>
  <dc:creator>Pawan </dc:creator>
  <link>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/plfs.html</link>
  <description><![CDATA[ 




<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(data.table)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readr)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gt)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">options</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">digits=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Read Data</span></span>
<span id="cb1-9">fvhh1819 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/plfsdata/PLFS-18-19/data/hhfv201819.rds"</span>)</span>
<span id="cb1-10">fvpp1819 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/plfsdata/PLFS-18-19/data/perfv201819.rds"</span>)</span>
<span id="cb1-11">fvhh1920 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/plfsdata/PLFS-19-20/HHV1_2019_20.rds"</span>)</span>
<span id="cb1-12">fvpp1920 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/plfsdata/PLFS-19-20/PERV1_2019_20.rds"</span>)</span>
<span id="cb1-13"></span>
<span id="cb1-14">fvhh2021 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/plfsdata/PLFS-20-21/HHV1_2020_21.rds"</span>)</span>
<span id="cb1-15">fvpp2021 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/plfsdata/PLFS-20-21/PERV1_2020_21.rds"</span>)</span>
<span id="cb1-16"></span>
<span id="cb1-17">fvhh2122 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/plfsdata/PLFS-21-22/HHV1_2021_22.rds"</span>)</span>
<span id="cb1-18">fvpp2122 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/plfsdata/PLFS-21-22/PERV1_2021_22.rds"</span>)</span>
<span id="cb1-19"></span>
<span id="cb1-20"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>visit)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>visit</span>
<span id="cb1-21"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>quarter)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>quarter</span>
<span id="cb1-22"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hhd_no)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hhd_no</span>
<span id="cb1-23"></span>
<span id="cb1-24"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"42_status_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"status_code_sub"</span></span>
<span id="cb1-25"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"42_nic_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nic_code_sub"</span></span>
<span id="cb1-26"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"42_nco_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nco_code_sub"</span></span>
<span id="cb1-27"></span>
<span id="cb1-28"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code</span>
<span id="cb1-29"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub</span>
<span id="cb1-30"></span>
<span id="cb1-31"></span>
<span id="cb1-32"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,</span>
<span id="cb1-33"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,</span>
<span id="cb1-34"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,</span>
<span id="cb1-35"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,</span>
<span id="cb1-36"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,</span>
<span id="cb1-37"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>))))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_code</span>
<span id="cb1-38"></span>
<span id="cb1-39">fvpp1819[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(upa_code),upsa_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span>upa_code]</span>
<span id="cb1-40">fvpp1819[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(upsa_code)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,upsa_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span>status_code_sub]</span>
<span id="cb1-41">fvpp1819[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(upsa_code),upsa_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9999</span>]</span>
<span id="cb1-42"></span>
<span id="cb1-43"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-44"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-45"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-46"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-47"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-48"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-49"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,</span>
<span id="cb1-50"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,</span>
<span id="cb1-51"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,</span>
<span id="cb1-52"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,</span>
<span id="cb1-53"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,</span>
<span id="cb1-54"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9999</span>))))))))))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic</span>
<span id="cb1-55"></span>
<span id="cb1-56"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">start=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stop=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic</span>
<span id="cb1-57"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic</span>
<span id="cb1-58"></span>
<span id="cb1-59"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Agriculture"</span>,</span>
<span id="cb1-60"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">33</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacturing"</span>,</span>
<span id="cb1-61"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">43</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-62"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">45</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">99</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Services"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Others"</span>))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_main</span>
<span id="cb1-63"></span>
<span id="cb1-64"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_main,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Agriculture"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-65">                                       <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacturing"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Services"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Others"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_main</span>
<span id="cb1-66"></span>
<span id="cb1-67">fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Others"</span></span>
<span id="cb1-68"></span>
<span id="cb1-69"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb1-70"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-71"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-72"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-73"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Long-term worker"</span>,</span>
<span id="cb1-74"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Casual worker"</span>,</span>
<span id="cb1-75"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Casual worker"</span>,</span>
<span id="cb1-76"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-77"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-78"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-79"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Long-term worker"</span>,</span>
<span id="cb1-80"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Casual worker"</span>,</span>
<span id="cb1-81"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Casual worker"</span>,</span>
<span id="cb1-82">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)))))))))))),fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-83"></span>
<span id="cb1-84"></span>
<span id="cb1-85"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of food products &amp; beverages"</span>,</span>
<span id="cb1-86">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-87"></span>
<span id="cb1-88"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of food products &amp; beverages"</span>,</span>
<span id="cb1-89">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-90"></span>
<span id="cb1-91"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of tobacco products"</span>,</span>
<span id="cb1-92">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-93"></span>
<span id="cb1-94"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of textile &amp; apparel"</span>,</span>
<span id="cb1-95">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-96"></span>
<span id="cb1-97"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of textile &amp; apparel"</span>,</span>
<span id="cb1-98">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-99"></span>
<span id="cb1-100"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">47</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Retail trade except motor vehicle"</span>,</span>
<span id="cb1-101">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-102"></span>
<span id="cb1-103"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">85</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Education"</span>,</span>
<span id="cb1-104">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-105"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">86</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Health care"</span>,</span>
<span id="cb1-106">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-107"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-108">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-109"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-110">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-111"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">43</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-112">       fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-113"></span>
<span id="cb1-114"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-115">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Long-term worker"</span>,</span>
<span id="cb1-116">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Casual worker"</span>,</span>
<span id="cb1-117">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-118">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of food products &amp; beverages"</span>,</span>
<span id="cb1-119">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of tobacco products"</span>,</span>
<span id="cb1-120">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of textile &amp; apparel"</span>,</span>
<span id="cb1-121">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Retail trade except motor vehicle"</span>,</span>
<span id="cb1-122">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Education"</span>,</span>
<span id="cb1-123">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Health care"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1819<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-124"></span>
<span id="cb1-125"></span>
<span id="cb1-126">fvpp1819[age<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>,.(upsa_code,sector,sex,weight,upsa_nic_main,upsa_nic,upsa_nic_detail)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb1-127"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9999</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Worker"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Non-worker"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Worker</span>
<span id="cb1-128">reshape2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(t,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Worker"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sector"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sex"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">m=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb1-129">reshape2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dcast</span>(t,sex<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>sector<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>Worker,sum,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">margins=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sector"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sex"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Worker"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t5</span>
<span id="cb1-130"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(t5<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Worker<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>t5[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>],<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t5<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Worker</span>
<span id="cb1-131"></span>
<span id="cb1-132">t5[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>),<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t5</span>
<span id="cb1-133"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(t5)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2018-19"</span></span>
<span id="cb1-134"></span>
<span id="cb1-135"></span>
<span id="cb1-136"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>visit)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>visit</span>
<span id="cb1-137"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.character</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>quarter)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>quarter</span>
<span id="cb1-138"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.integer</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hhd_no)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>hhd_no</span>
<span id="cb1-139"></span>
<span id="cb1-140"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"X42_status_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"status_code_sub"</span></span>
<span id="cb1-141"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"X42_nic_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nic_code_sub"</span></span>
<span id="cb1-142"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"X42_nco_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nco_code_sub"</span></span>
<span id="cb1-143"></span>
<span id="cb1-144"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code</span>
<span id="cb1-145"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub</span>
<span id="cb1-146"></span>
<span id="cb1-147"></span>
<span id="cb1-148"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,</span>
<span id="cb1-149"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,</span>
<span id="cb1-150"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,</span>
<span id="cb1-151"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,</span>
<span id="cb1-152"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,</span>
<span id="cb1-153"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>))))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_code</span>
<span id="cb1-154"></span>
<span id="cb1-155">fvpp1920[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(upa_code),upsa_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span>upa_code]</span>
<span id="cb1-156">fvpp1920[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(upsa_code)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,upsa_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span>status_code_sub]</span>
<span id="cb1-157">fvpp1920[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(upsa_code),upsa_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9999</span>]</span>
<span id="cb1-158"></span>
<span id="cb1-159"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-160"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-161"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-162"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-163"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-164"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code,</span>
<span id="cb1-165"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,</span>
<span id="cb1-166"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,</span>
<span id="cb1-167"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,</span>
<span id="cb1-168"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,</span>
<span id="cb1-169"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,</span>
<span id="cb1-170"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>status_code_sub<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>nic_code_sub,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9999</span>))))))))))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic</span>
<span id="cb1-171"></span>
<span id="cb1-172"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">start=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stop=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic</span>
<span id="cb1-173"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic</span>
<span id="cb1-174"></span>
<span id="cb1-175"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Agriculture"</span>,</span>
<span id="cb1-176"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">33</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacturing"</span>,</span>
<span id="cb1-177"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">43</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-178"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">45</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">99</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Services"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Others"</span>))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_main</span>
<span id="cb1-179"></span>
<span id="cb1-180"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_main,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Agriculture"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-181">                                       <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacturing"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Services"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Others"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_main</span>
<span id="cb1-182"></span>
<span id="cb1-183">fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Others"</span></span>
<span id="cb1-184"></span>
<span id="cb1-185"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb1-186"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-187"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-188"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-189"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Long-term worker"</span>,</span>
<span id="cb1-190"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Casual worker"</span>,</span>
<span id="cb1-191"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Casual worker"</span>,</span>
<span id="cb1-192"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-193"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-194"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-195"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Long-term worker"</span>,</span>
<span id="cb1-196"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Casual worker"</span>,</span>
<span id="cb1-197"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>usa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Casual worker"</span>,</span>
<span id="cb1-198">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)))))))))))),fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-199"></span>
<span id="cb1-200"></span>
<span id="cb1-201"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of food products &amp; beverages"</span>,</span>
<span id="cb1-202">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-203"></span>
<span id="cb1-204"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of food products &amp; beverages"</span>,</span>
<span id="cb1-205">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-206"></span>
<span id="cb1-207"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of tobacco products"</span>,</span>
<span id="cb1-208">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-209"></span>
<span id="cb1-210"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">13</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of textile &amp; apparel"</span>,</span>
<span id="cb1-211">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-212"></span>
<span id="cb1-213"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of textile &amp; apparel"</span>,</span>
<span id="cb1-214">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-215"></span>
<span id="cb1-216"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">47</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Retail trade except motor vehicle"</span>,</span>
<span id="cb1-217">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-218"></span>
<span id="cb1-219"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">85</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Education"</span>,</span>
<span id="cb1-220">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-221"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">86</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Health care"</span>,</span>
<span id="cb1-222">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-223"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-224">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-225"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-226">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-227"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">43</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-228">       fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-229"></span>
<span id="cb1-230"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Self-employed"</span>,</span>
<span id="cb1-231">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Long-term worker"</span>,</span>
<span id="cb1-232">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Casual worker"</span>,</span>
<span id="cb1-233">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Construction"</span>,</span>
<span id="cb1-234">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of food products &amp; beverages"</span>,</span>
<span id="cb1-235">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of tobacco products"</span>,</span>
<span id="cb1-236">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Manufacture of textile &amp; apparel"</span>,</span>
<span id="cb1-237">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Retail trade except motor vehicle"</span>,</span>
<span id="cb1-238">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Education"</span>,</span>
<span id="cb1-239">                                         <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Health care"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fvpp1920<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_nic_detail</span>
<span id="cb1-240">fvpp1920[age<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>,.(upsa_code,sector,sex,weight,upsa_nic_main,upsa_nic,upsa_nic_detail)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb1-241"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>upsa_code<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9999</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Worker"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Non-worker"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Worker</span>
<span id="cb1-242">reshape2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(t,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Worker"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sector"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sex"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">m=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"weight"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb1-243">reshape2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dcast</span>(t,sex<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>sector<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>Worker,sum,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">margins=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sector"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sex"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Worker"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t6</span>
<span id="cb1-244"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(t6<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Worker<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>t6[,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>],<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t6<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Worker</span>
<span id="cb1-245"></span>
<span id="cb1-246">t6[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>),<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t6</span>
<span id="cb1-247"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(t6)[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2019-20"</span></span>
<span id="cb1-248"></span>
<span id="cb1-249"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">merge</span>(t5,t6,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sex"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sector"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb1-250"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">levels</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>sector)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rural"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Urban"</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>)</span>
<span id="cb1-251"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##levels(t$sex)&lt;-c("Men","Women")</span></span>
<span id="cb1-252"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(t)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div id="jmrqjotnvj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#jmrqjotnvj table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#jmrqjotnvj thead, #jmrqjotnvj tbody, #jmrqjotnvj tfoot, #jmrqjotnvj tr, #jmrqjotnvj td, #jmrqjotnvj th {
  border-style: none;
}

#jmrqjotnvj p {
  margin: 0;
  padding: 0;
}

#jmrqjotnvj .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#jmrqjotnvj .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#jmrqjotnvj .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#jmrqjotnvj .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#jmrqjotnvj .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jmrqjotnvj .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jmrqjotnvj .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#jmrqjotnvj .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#jmrqjotnvj .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#jmrqjotnvj .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#jmrqjotnvj .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#jmrqjotnvj .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#jmrqjotnvj .gt_spanner_row {
  border-bottom-style: hidden;
}

#jmrqjotnvj .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#jmrqjotnvj .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#jmrqjotnvj .gt_from_md > :first-child {
  margin-top: 0;
}

#jmrqjotnvj .gt_from_md > :last-child {
  margin-bottom: 0;
}

#jmrqjotnvj .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#jmrqjotnvj .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#jmrqjotnvj .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#jmrqjotnvj .gt_row_group_first td {
  border-top-width: 2px;
}

#jmrqjotnvj .gt_row_group_first th {
  border-top-width: 2px;
}

#jmrqjotnvj .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jmrqjotnvj .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#jmrqjotnvj .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#jmrqjotnvj .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jmrqjotnvj .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#jmrqjotnvj .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#jmrqjotnvj .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#jmrqjotnvj .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#jmrqjotnvj .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#jmrqjotnvj .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jmrqjotnvj .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jmrqjotnvj .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#jmrqjotnvj .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#jmrqjotnvj .gt_left {
  text-align: left;
}

#jmrqjotnvj .gt_center {
  text-align: center;
}

#jmrqjotnvj .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#jmrqjotnvj .gt_font_normal {
  font-weight: normal;
}

#jmrqjotnvj .gt_font_bold {
  font-weight: bold;
}

#jmrqjotnvj .gt_font_italic {
  font-style: italic;
}

#jmrqjotnvj .gt_super {
  font-size: 65%;
}

#jmrqjotnvj .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#jmrqjotnvj .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#jmrqjotnvj .gt_indent_1 {
  text-indent: 5px;
}

#jmrqjotnvj .gt_indent_2 {
  text-indent: 10px;
}

#jmrqjotnvj .gt_indent_3 {
  text-indent: 15px;
}

#jmrqjotnvj .gt_indent_4 {
  text-indent: 20px;
}

#jmrqjotnvj .gt_indent_5 {
  text-indent: 25px;
}

#jmrqjotnvj .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#jmrqjotnvj div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="sex" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">sex</th>
<th id="sector" class="gt_col_heading gt_columns_bottom_border gt_center" data-quarto-table-cell-role="th" scope="col">sector</th>
<th id="a2018-19" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">2018-19</th>
<th id="a2019-20" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">2019-20</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_center" headers="sex">1</td>
<td class="gt_row gt_center" headers="sector">Total</td>
<td class="gt_row gt_right" headers="2018-19">71.0</td>
<td class="gt_row gt_right" headers="2019-20">73.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="sex">1</td>
<td class="gt_row gt_center" headers="sector">Rural</td>
<td class="gt_row gt_right" headers="2018-19">72.2</td>
<td class="gt_row gt_right" headers="2019-20">74.4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="sex">1</td>
<td class="gt_row gt_center" headers="sector">Urban</td>
<td class="gt_row gt_right" headers="2018-19">68.5</td>
<td class="gt_row gt_right" headers="2019-20">69.9</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="sex">2</td>
<td class="gt_row gt_center" headers="sector">Total</td>
<td class="gt_row gt_right" headers="2018-19">23.3</td>
<td class="gt_row gt_right" headers="2019-20">28.7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_center" headers="sex">2</td>
<td class="gt_row gt_center" headers="sector">Rural</td>
<td class="gt_row gt_right" headers="2018-19">25.5</td>
<td class="gt_row gt_right" headers="2019-20">32.2</td>
</tr>
<tr class="even">
<td class="gt_row gt_center" headers="sex">2</td>
<td class="gt_row gt_center" headers="sector">Urban</td>
<td class="gt_row gt_right" headers="2018-19">18.4</td>
<td class="gt_row gt_right" headers="2019-20">21.3</td>
</tr>
</tbody>
</table>

</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## fvhh1819[,UID:=paste(schedule,quarter,</span></span>
<span id="cb2-2"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##                      visit,sector,state,district,</span></span>
<span id="cb2-3"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##                      nss_region,stratum,sub_stratum,sub_sample,</span></span>
<span id="cb2-4"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##                      fod_sub_region,fsu,sample_sg_no,</span></span>
<span id="cb2-5"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##                      second_stage_stratum, hhd_no)]</span></span></code></pre></div></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Calculate LFPR, WFPR, and UR for 2018-19</span></span>
<span id="cb3-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"42_status_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"status_code_sub"</span></span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"42_nic_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nic_code_sub"</span></span>
<span id="cb3-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1819) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"42_nco_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nco_code_sub"</span></span>
<span id="cb3-5"></span>
<span id="cb3-6">fvpp1819[(age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> (status_code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-7">                        status_code_sub <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>))] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> lf1819</span>
<span id="cb3-8"></span>
<span id="cb3-9">fvpp1819[(age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> (status_code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-10">                        status_code_sub <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>))] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> wf1819</span>
<span id="cb3-11"></span>
<span id="cb3-12">lf1819[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LFPR =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>fvpp1819[(age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>),<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>l1</span>
<span id="cb3-13"></span>
<span id="cb3-14">wf1819[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">WFPR =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>fvpp1819[(age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>),<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>w1</span>
<span id="cb3-15"></span>
<span id="cb3-16">lf1819[status_code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(status_code_sub)</span>
<span id="cb3-17">      ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Unemployment_Rate=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>lf1819[,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>ur1</span>
<span id="cb3-18"></span>
<span id="cb3-19"></span>
<span id="cb3-20"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cbind</span>(l1, w1, ur1)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>a1</span>
<span id="cb3-21">a1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2018-19"</span></span>
<span id="cb3-22"></span>
<span id="cb3-23"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Calculate LFPR, WFPR, and UR for 2019-20</span></span>
<span id="cb3-24"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"X42_status_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"status_code_sub"</span></span>
<span id="cb3-25"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"X42_nic_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nic_code_sub"</span></span>
<span id="cb3-26"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp1920) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"X42_nco_code"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nco_code_sub"</span></span>
<span id="cb3-27"></span>
<span id="cb3-28">fvpp1920[(age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> (status_code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-29">                        status_code_sub <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>))] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> lf1920</span>
<span id="cb3-30">fvpp1920[(age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> (status_code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-31">                        status_code_sub <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>))] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> wf1920</span>
<span id="cb3-32"></span>
<span id="cb3-33">lf1920[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LFPR =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>fvpp1920[(age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>),<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>l2</span>
<span id="cb3-34"></span>
<span id="cb3-35">wf1920[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">WFPR =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>fvpp1920[(age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>),<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>w2</span>
<span id="cb3-36"></span>
<span id="cb3-37">lf1920[status_code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(status_code_sub)</span>
<span id="cb3-38">      ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Unemployment_Rate=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>lf1920[,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>ur2</span>
<span id="cb3-39"></span>
<span id="cb3-40"></span>
<span id="cb3-41"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cbind</span>(l2, w2, ur2)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>a2</span>
<span id="cb3-42">a2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2019-20"</span></span>
<span id="cb3-43"></span>
<span id="cb3-44"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Calculate LFPR, WFPR, and UR for 2020-21</span></span>
<span id="cb3-45"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Status.Code...32"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Status_Code"</span></span>
<span id="cb3-46"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Industry.Code..NIC....33"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NIC_Code"</span></span>
<span id="cb3-47"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Occupation.Code..NCO....34"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NCO_Code"</span></span>
<span id="cb3-48"></span>
<span id="cb3-49"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Status.Code...43"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Status_Code_Sub"</span></span>
<span id="cb3-50"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Industry.Code..NIC....44"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NIC_Code_Sub"</span></span>
<span id="cb3-51"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2021) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Occupation.Code..NCO....45"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NCO_Code_Sub"</span></span>
<span id="cb3-52"></span>
<span id="cb3-53">fvpp2021[(Age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> (Status_Code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-54">                        Status_Code_Sub <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>))] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> lf2021</span>
<span id="cb3-55">fvpp2021[(Age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> (Status_Code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-56">                        Status_Code_Sub <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>))] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> wf2021</span>
<span id="cb3-57"></span>
<span id="cb3-58">lf2021[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LFPR =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>fvpp2021[(Age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>),<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>l3</span>
<span id="cb3-59"></span>
<span id="cb3-60">wf2021[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">WFPR =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>fvpp2021[(Age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>),<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>w3</span>
<span id="cb3-61"></span>
<span id="cb3-62">lf2021[Status_Code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(Status_Code_Sub)</span>
<span id="cb3-63">      ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Unemployment_Rate=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>lf2021[,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>ur3</span>
<span id="cb3-64"></span>
<span id="cb3-65"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cbind</span>(l3, w3, ur3)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>a3</span>
<span id="cb3-66">a3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2020-21"</span></span>
<span id="cb3-67"></span>
<span id="cb3-68"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Calculate LFPR, WFPR, and UR for 2021-22</span></span>
<span id="cb3-69"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Status.Code...32"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Status_Code"</span></span>
<span id="cb3-70"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Industry.Code..NIC....33"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NIC_Code"</span></span>
<span id="cb3-71"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Occupation.Code..NCO....34"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NCO_Code"</span></span>
<span id="cb3-72"></span>
<span id="cb3-73"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Status.Code...45"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Status_Code_Sub"</span></span>
<span id="cb3-74"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Industry.Code..NIC....46"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NIC_Code_Sub"</span></span>
<span id="cb3-75"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(fvpp2122) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Occupation.Code..NCO....47"</span>] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NCO_Code_Sub"</span></span>
<span id="cb3-76"></span>
<span id="cb3-77">fvpp2122[(Age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> (Status_Code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-78">                        Status_Code_Sub <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>))] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> lf2122</span>
<span id="cb3-79">fvpp2122[(Age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> (Status_Code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span></span>
<span id="cb3-80">                        Status_Code_Sub <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">11</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">21</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">31</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">41</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>))] <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span> wf2122</span>
<span id="cb3-81"></span>
<span id="cb3-82">lf2122[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">LFPR =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>fvpp2122[(Age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>),<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>l4</span>
<span id="cb3-83"></span>
<span id="cb3-84">wf2122[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">WFPR =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>fvpp2122[(Age <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>),<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>w4</span>
<span id="cb3-85"></span>
<span id="cb3-86">lf2122[Status_Code <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(Status_Code_Sub)</span>
<span id="cb3-87">      ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Unemployment_Rate=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>lf2122[,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(weight)])<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>))]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>ur4</span>
<span id="cb3-88"></span>
<span id="cb3-89"></span>
<span id="cb3-90"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cbind</span>(l4, w4, ur4)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>a4</span>
<span id="cb3-91">a4<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2021-22"</span></span>
<span id="cb3-92"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(a1, a2, a3, a4)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>e1</span>
<span id="cb3-93"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(e1)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div id="msbvqafoik" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#msbvqafoik table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#msbvqafoik thead, #msbvqafoik tbody, #msbvqafoik tfoot, #msbvqafoik tr, #msbvqafoik td, #msbvqafoik th {
  border-style: none;
}

#msbvqafoik p {
  margin: 0;
  padding: 0;
}

#msbvqafoik .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#msbvqafoik .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#msbvqafoik .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#msbvqafoik .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#msbvqafoik .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#msbvqafoik .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#msbvqafoik .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#msbvqafoik .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#msbvqafoik .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#msbvqafoik .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#msbvqafoik .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#msbvqafoik .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#msbvqafoik .gt_spanner_row {
  border-bottom-style: hidden;
}

#msbvqafoik .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#msbvqafoik .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#msbvqafoik .gt_from_md > :first-child {
  margin-top: 0;
}

#msbvqafoik .gt_from_md > :last-child {
  margin-bottom: 0;
}

#msbvqafoik .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#msbvqafoik .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#msbvqafoik .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#msbvqafoik .gt_row_group_first td {
  border-top-width: 2px;
}

#msbvqafoik .gt_row_group_first th {
  border-top-width: 2px;
}

#msbvqafoik .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#msbvqafoik .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#msbvqafoik .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#msbvqafoik .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#msbvqafoik .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#msbvqafoik .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#msbvqafoik .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#msbvqafoik .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#msbvqafoik .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#msbvqafoik .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#msbvqafoik .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#msbvqafoik .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#msbvqafoik .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#msbvqafoik .gt_left {
  text-align: left;
}

#msbvqafoik .gt_center {
  text-align: center;
}

#msbvqafoik .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#msbvqafoik .gt_font_normal {
  font-weight: normal;
}

#msbvqafoik .gt_font_bold {
  font-weight: bold;
}

#msbvqafoik .gt_font_italic {
  font-style: italic;
}

#msbvqafoik .gt_super {
  font-size: 65%;
}

#msbvqafoik .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#msbvqafoik .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#msbvqafoik .gt_indent_1 {
  text-indent: 5px;
}

#msbvqafoik .gt_indent_2 {
  text-indent: 10px;
}

#msbvqafoik .gt_indent_3 {
  text-indent: 15px;
}

#msbvqafoik .gt_indent_4 {
  text-indent: 20px;
}

#msbvqafoik .gt_indent_5 {
  text-indent: 25px;
}

#msbvqafoik .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#msbvqafoik div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="LFPR" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">LFPR</th>
<th id="WFPR" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">WFPR</th>
<th id="Unemployment_Rate" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Unemployment_Rate</th>
<th id="Year" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Year</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="LFPR">50.2</td>
<td class="gt_row gt_right" headers="WFPR">47.3</td>
<td class="gt_row gt_right" headers="Unemployment_Rate">5.8</td>
<td class="gt_row gt_right" headers="Year">2018-19</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="LFPR">53.5</td>
<td class="gt_row gt_right" headers="WFPR">50.9</td>
<td class="gt_row gt_right" headers="Unemployment_Rate">4.8</td>
<td class="gt_row gt_right" headers="Year">2019-20</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="LFPR">54.5</td>
<td class="gt_row gt_right" headers="WFPR">52.2</td>
<td class="gt_row gt_right" headers="Unemployment_Rate">4.2</td>
<td class="gt_row gt_right" headers="Year">2020-21</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="LFPR">55.2</td>
<td class="gt_row gt_right" headers="WFPR">52.9</td>
<td class="gt_row gt_right" headers="Unemployment_Rate">4.1</td>
<td class="gt_row gt_right" headers="Year">2021-22</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>



 ]]></description>
  <category>PLFS</category>
  <category>NSS</category>
  <guid>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/plfs.html</guid>
  <pubDate>Sat, 01 Nov 2025 18:30:00 GMT</pubDate>
</item>
<item>
  <title>Foodgrain Stock</title>
  <dc:creator>Pawan </dc:creator>
  <link>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/stocks.html</link>
  <description><![CDATA[ 




<section id="key-points" class="level2">
<h2 class="anchored" data-anchor-id="key-points">Key Points</h2>
<ul>
<li><p>Total foodgrain stocks peaked at 100.5 lakh tonnes (Feb 2025), driven by unmilled paddy (50.1 lakh tonnes).</p></li>
<li><p>Wheat stocks fluctuated significantly, dropping to 7.5 lakh tonnes (Apr 2024) and rising to 34 lakh tonnes (Feb 2025).</p></li>
<li><p>Rice stocks steadily increased from 21.1 lakh tonnes (Mar 2023) to 34 lakh tonnes (Feb 2025).</p></li>
</ul>
</section>
<section id="lets-visualized-the-data" class="level2">
<h2 class="anchored" data-anchor-id="lets-visualized-the-data">Lets visualized the data</h2>
<p>Load necessary packages</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(data.table)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyverse)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(tidyr)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(scales)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggforce)</span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gt)</span></code></pre></div></div>
</details>
</div>
<p>Read the data and cleaning</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fread</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"~/stocks/stocksall.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">header =</span> T)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>stocksall</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">unique</span>(stocksall)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>stocksall</span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fread</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"~/stocks/pdsold.csv"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">header =</span> T)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>oldstocks</span>
<span id="cb2-4">oldstocks[,coarsegrains <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> stocks_total<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>stocks_rice<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span>stocks_wheat]</span>
<span id="cb2-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(stocksall,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Commodity"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb2-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">01</span>, t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable, t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%d-%b-%Y"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date</span>
<span id="cb2-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rice"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Wheat"</span>,</span>
<span id="cb2-8">                               <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Unmilled Paddy"</span>,</span>
<span id="cb2-9">                               <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Coarsegrain"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity</span>
<span id="cb2-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">separate</span>(oldstocks, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">into =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"v1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"year"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>oldstocks</span>
<span id="cb2-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"04"</span>, oldstocks<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%d-%m-%y"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>oldstocks<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date</span>
<span id="cb2-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setDT</span>(oldstocks)</span>
<span id="cb2-13">oldstocks[Date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"01-01-2003"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">format=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%d-%m-%Y"</span>)</span>
<span id="cb2-14">         ,.(Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Rice =</span> stocks_rice, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Wheat =</span> stocks_wheat,</span>
<span id="cb2-15">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Coarsegrain =</span> coarsegrains)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>oldstocks</span>
<span id="cb2-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(oldstocks, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb2-17">t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value</span>
<span id="cb2-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(t1)[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">names</span>(t1) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"variable"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Commodity"</span></span>
<span id="cb2-19">t[Commodity <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>,.(Date, Commodity, value)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb2-20">t[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(value)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb2-21">t1[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(value)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb2-22"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(t, t1)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb2-23"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value</span>
<span id="cb2-24">t1[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(value)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb2-25">t1[,.(Commodity, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cumsum</span>(value)),.(Date)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb2-26"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rev</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rice"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Wheat"</span>,</span>
<span id="cb2-27">                                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Unmilled Paddy"</span>,</span>
<span id="cb2-28">                                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Coarsegrain"</span>)))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity</span>
<span id="cb2-29">t1[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">order</span>(Commodity, Date)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span></code></pre></div></div>
</details>
</div>
<p>Custom theme for plots</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">my_theme <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">16</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>  <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Start with theme_bw and increase base size</span></span>
<span id="cb3-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"serif"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#333333"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set font family and color</span></span>
<span id="cb3-3">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bold"</span>,</span>
<span id="cb3-4">                                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">margin =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">margin</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Center and style title</span></span>
<span id="cb3-5">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>),</span>
<span id="cb3-6">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>),</span>
<span id="cb3-7">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,</span>
<span id="cb3-8">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),  <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Remove legend title</span></span>
<span id="cb3-9">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#EEEEEE"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Lighter grid lines</span></span>
<span id="cb3-10">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.border =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Remove panel border</span></span>
<span id="cb3-11">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.line =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#333333"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Add axis lines</span></span>
<span id="cb3-12">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb3-13">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">strip.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#F2F2F2"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>) <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Style facet strips (if used)</span></span>
<span id="cb3-14">          )</span></code></pre></div></div>
</details>
</div>
<p>Visualization</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t1, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymax =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">ymin =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_ribbon</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Commodity)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Million tonnes"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 year"</span>,</span>
<span id="cb4-5">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-6">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Foodgrain Stocks"</span>,</span>
<span id="cb4-8">                   <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1972"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">year</span>(t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date)))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_zoom</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">xlim =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2018-01-01"</span>), <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">max</span>(t1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb4-10">p</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/stocks_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Table of Last 24 Months Foodgrain Stocks</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(stocksall, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Commodity"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">01</span>, t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable, t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sep =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date</span>
<span id="cb5-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%d-%b-%Y"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date</span>
<span id="cb5-4">t[<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(value)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb5-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span><span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>value</span>
<span id="cb5-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Wheat"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rice"</span>,</span>
<span id="cb5-7">                               <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Unmilled Paddy"</span>,</span>
<span id="cb5-8">                               <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Coarsegrain"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity</span>
<span id="cb5-9">t[Commodity <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>,.(value, Commodity, Date)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb5-10">t[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(value),</span>
<span id="cb5-11">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Commodity =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>), Date]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb5-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(t, t1)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb5-13">t[,value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(value, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)]</span>
<span id="cb5-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">dcast</span>(t, Date<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>Commodity, sum)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb5-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">format</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%b-%Y"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date</span>
<span id="cb5-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tail</span>(t, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">24</span>))</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div id="zpqfmfxput" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#zpqfmfxput table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#zpqfmfxput thead, #zpqfmfxput tbody, #zpqfmfxput tfoot, #zpqfmfxput tr, #zpqfmfxput td, #zpqfmfxput th {
  border-style: none;
}

#zpqfmfxput p {
  margin: 0;
  padding: 0;
}

#zpqfmfxput .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#zpqfmfxput .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#zpqfmfxput .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#zpqfmfxput .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#zpqfmfxput .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zpqfmfxput .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zpqfmfxput .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#zpqfmfxput .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#zpqfmfxput .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#zpqfmfxput .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#zpqfmfxput .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#zpqfmfxput .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#zpqfmfxput .gt_spanner_row {
  border-bottom-style: hidden;
}

#zpqfmfxput .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#zpqfmfxput .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#zpqfmfxput .gt_from_md > :first-child {
  margin-top: 0;
}

#zpqfmfxput .gt_from_md > :last-child {
  margin-bottom: 0;
}

#zpqfmfxput .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#zpqfmfxput .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#zpqfmfxput .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#zpqfmfxput .gt_row_group_first td {
  border-top-width: 2px;
}

#zpqfmfxput .gt_row_group_first th {
  border-top-width: 2px;
}

#zpqfmfxput .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zpqfmfxput .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#zpqfmfxput .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#zpqfmfxput .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zpqfmfxput .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#zpqfmfxput .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#zpqfmfxput .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#zpqfmfxput .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#zpqfmfxput .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#zpqfmfxput .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zpqfmfxput .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zpqfmfxput .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#zpqfmfxput .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#zpqfmfxput .gt_left {
  text-align: left;
}

#zpqfmfxput .gt_center {
  text-align: center;
}

#zpqfmfxput .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#zpqfmfxput .gt_font_normal {
  font-weight: normal;
}

#zpqfmfxput .gt_font_bold {
  font-weight: bold;
}

#zpqfmfxput .gt_font_italic {
  font-style: italic;
}

#zpqfmfxput .gt_super {
  font-size: 65%;
}

#zpqfmfxput .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#zpqfmfxput .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#zpqfmfxput .gt_indent_1 {
  text-indent: 5px;
}

#zpqfmfxput .gt_indent_2 {
  text-indent: 10px;
}

#zpqfmfxput .gt_indent_3 {
  text-indent: 15px;
}

#zpqfmfxput .gt_indent_4 {
  text-indent: 20px;
}

#zpqfmfxput .gt_indent_5 {
  text-indent: 25px;
}

#zpqfmfxput .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#zpqfmfxput div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="Date" class="gt_col_heading gt_columns_bottom_border gt_left" data-quarto-table-cell-role="th" scope="col">Date</th>
<th id="Wheat" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Wheat</th>
<th id="Rice" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Rice</th>
<th id="Unmilled-Paddy" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Unmilled Paddy</th>
<th id="Coarsegrain" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Coarsegrain</th>
<th id="Total" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Total</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Apr-2023</td>
<td class="gt_row gt_right" headers="Wheat">8.3</td>
<td class="gt_row gt_right" headers="Rice">24.9</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">27.6</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.4</td>
<td class="gt_row gt_right" headers="Total">61.3</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">May-2023</td>
<td class="gt_row gt_right" headers="Wheat">29.0</td>
<td class="gt_row gt_right" headers="Rice">26.5</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">22.7</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.5</td>
<td class="gt_row gt_right" headers="Total">78.7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Jun-2023</td>
<td class="gt_row gt_right" headers="Wheat">31.4</td>
<td class="gt_row gt_right" headers="Rice">26.2</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">22.7</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.4</td>
<td class="gt_row gt_right" headers="Total">80.7</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">Jul-2023</td>
<td class="gt_row gt_right" headers="Wheat">30.1</td>
<td class="gt_row gt_right" headers="Rice">25.3</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">23.3</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.4</td>
<td class="gt_row gt_right" headers="Total">79.2</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Aug-2023</td>
<td class="gt_row gt_right" headers="Wheat">28.0</td>
<td class="gt_row gt_right" headers="Rice">24.3</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">19.6</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.4</td>
<td class="gt_row gt_right" headers="Total">72.3</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">Sep-2023</td>
<td class="gt_row gt_right" headers="Wheat">26.0</td>
<td class="gt_row gt_right" headers="Rice">23.3</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">16.1</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.3</td>
<td class="gt_row gt_right" headers="Total">65.7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Oct-2023</td>
<td class="gt_row gt_right" headers="Wheat">24.0</td>
<td class="gt_row gt_right" headers="Rice">22.2</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">13.8</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.2</td>
<td class="gt_row gt_right" headers="Total">60.3</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">Nov-2023</td>
<td class="gt_row gt_right" headers="Wheat">21.9</td>
<td class="gt_row gt_right" headers="Rice">20.0</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">26.3</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.2</td>
<td class="gt_row gt_right" headers="Total">68.4</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Dec-2023</td>
<td class="gt_row gt_right" headers="Wheat">19.2</td>
<td class="gt_row gt_right" headers="Rice">18.4</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">37.6</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.2</td>
<td class="gt_row gt_right" headers="Total">75.4</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">Jan-2024</td>
<td class="gt_row gt_right" headers="Wheat">16.4</td>
<td class="gt_row gt_right" headers="Rice">18.2</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">50.0</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.2</td>
<td class="gt_row gt_right" headers="Total">84.7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Feb-2024</td>
<td class="gt_row gt_right" headers="Wheat">13.3</td>
<td class="gt_row gt_right" headers="Rice">21.0</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">54.7</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.4</td>
<td class="gt_row gt_right" headers="Total">89.4</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">Mar-2024</td>
<td class="gt_row gt_right" headers="Wheat">9.7</td>
<td class="gt_row gt_right" headers="Rice">26.3</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">47.3</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.4</td>
<td class="gt_row gt_right" headers="Total">83.7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Apr-2024</td>
<td class="gt_row gt_right" headers="Wheat">7.5</td>
<td class="gt_row gt_right" headers="Rice">30.2</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">34.3</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.4</td>
<td class="gt_row gt_right" headers="Total">72.4</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">May-2024</td>
<td class="gt_row gt_right" headers="Wheat">26.0</td>
<td class="gt_row gt_right" headers="Rice">31.9</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">28.3</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.5</td>
<td class="gt_row gt_right" headers="Total">86.7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Jun-2024</td>
<td class="gt_row gt_right" headers="Wheat">29.9</td>
<td class="gt_row gt_right" headers="Rice">32.5</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">26.8</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.4</td>
<td class="gt_row gt_right" headers="Total">89.6</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">Jul-2024</td>
<td class="gt_row gt_right" headers="Wheat">28.3</td>
<td class="gt_row gt_right" headers="Rice">32.6</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">23.7</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.6</td>
<td class="gt_row gt_right" headers="Total">85.2</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Aug-2024</td>
<td class="gt_row gt_right" headers="Wheat">26.8</td>
<td class="gt_row gt_right" headers="Rice">32.8</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">19.0</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.6</td>
<td class="gt_row gt_right" headers="Total">79.2</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">Sep-2024</td>
<td class="gt_row gt_right" headers="Wheat">25.1</td>
<td class="gt_row gt_right" headers="Rice">32.3</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">14.8</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.4</td>
<td class="gt_row gt_right" headers="Total">72.6</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Oct-2024</td>
<td class="gt_row gt_right" headers="Wheat">23.8</td>
<td class="gt_row gt_right" headers="Rice">31.1</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">11.4</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.2</td>
<td class="gt_row gt_right" headers="Total">66.4</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">Nov-2024</td>
<td class="gt_row gt_right" headers="Wheat">22.3</td>
<td class="gt_row gt_right" headers="Rice">29.7</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">21.5</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.3</td>
<td class="gt_row gt_right" headers="Total">73.7</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Dec-2024</td>
<td class="gt_row gt_right" headers="Wheat">20.6</td>
<td class="gt_row gt_right" headers="Rice">28.0</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">35.1</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.2</td>
<td class="gt_row gt_right" headers="Total">84.0</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">Jan-2025</td>
<td class="gt_row gt_right" headers="Wheat">18.4</td>
<td class="gt_row gt_right" headers="Rice">29.1</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">47.6</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.2</td>
<td class="gt_row gt_right" headers="Total">95.3</td>
</tr>
<tr class="odd">
<td class="gt_row gt_left" headers="Date">Feb-2025</td>
<td class="gt_row gt_right" headers="Wheat">16.2</td>
<td class="gt_row gt_right" headers="Rice">34.0</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">50.1</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.2</td>
<td class="gt_row gt_right" headers="Total">100.5</td>
</tr>
<tr class="even">
<td class="gt_row gt_left" headers="Date">Mar-2025</td>
<td class="gt_row gt_right" headers="Wheat">16.2</td>
<td class="gt_row gt_right" headers="Rice">34.0</td>
<td class="gt_row gt_right" headers="Unmilled Paddy">50.1</td>
<td class="gt_row gt_right" headers="Coarsegrain">0.2</td>
<td class="gt_row gt_right" headers="Total">100.5</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>


</section>

 ]]></description>
  <category>Food</category>
  <guid>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/stocks.html</guid>
  <pubDate>Fri, 31 Oct 2025 18:30:00 GMT</pubDate>
</item>
<item>
  <title>Fuel Prices</title>
  <dc:creator>Pawan </dc:creator>
  <link>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice.html</link>
  <description><![CDATA[ 




<p>Load the necessary packages</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(data.table)           <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Raed data table</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)              <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Graphical represantation</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gridExtra)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(stringr)              <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Work with string</span></span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(lubridate)            <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## date</span></span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(scales)               <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Nice Scales for ggplot2</span></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(fontawesome)          <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Icons display in ggplot2</span></span>
<span id="cb1-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggtext)               <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Markdown text support for ggplot2</span></span>
<span id="cb1-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(showtext)             <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Display fonts in ggplot2</span></span>
<span id="cb1-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(colorspace)           <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Lighten and Darken colours</span></span>
<span id="cb1-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(seecolor)             <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## To print and view colours</span></span>
<span id="cb1-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(patchwork)            <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Combining plots</span></span></code></pre></div></div>
</details>
</div>
<p>Costum the plot theme</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">my_theme <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">16</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>  <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Start with theme_bw and increase base size</span></span>
<span id="cb2-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"serif"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#333333"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set font family and color</span></span>
<span id="cb2-3">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bold"</span>,</span>
<span id="cb2-4">                                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">margin =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">margin</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,</span>
<span id="cb2-5">                                                                 <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Center and style title</span></span>
<span id="cb2-6">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>),</span>
<span id="cb2-7">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>),</span>
<span id="cb2-8">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,</span>
<span id="cb2-9">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),  <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Remove legend title</span></span>
<span id="cb2-10">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#EEEEEE"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Lighter grid lines</span></span>
<span id="cb2-11">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.border =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Remove panel border</span></span>
<span id="cb2-12">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.line =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#333333"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Add axis lines</span></span>
<span id="cb2-13">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb2-14">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">strip.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#F2F2F2"</span>,</span>
<span id="cb2-15">                                          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>) <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Style facet strips (if used)</span></span>
<span id="cb2-16">          )</span></code></pre></div></div>
</details>
</div>
<section id="international-fuel-price" class="level2">
<h2 class="anchored" data-anchor-id="international-fuel-price">International Fuel Price</h2>
<p>Read the data</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.table</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_excel</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fuelprices/international_price_indian_basket.xlsx"</span>,</span>
<span id="cb3-2">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sheet =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"crude-oil"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>crude</span>
<span id="cb3-3"></span>
<span id="cb3-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(crude, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ratio"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>crude</span>
<span id="cb3-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">match</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(crude<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>), month.abb))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>crude<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable</span>
<span id="cb3-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(crude<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(crude<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>),</span>
<span id="cb3-7">                  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(crude<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>crude<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year</span>
<span id="cb3-8"></span>
<span id="cb3-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(crude<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, crude<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>crude<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date</span>
<span id="cb3-10">crude[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Price =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(value)),.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>avgcrude</span>
<span id="cb3-11"></span>
<span id="cb3-12"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Diesel Internationl Price</span></span>
<span id="cb3-13"></span>
<span id="cb3-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.table</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_excel</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fuelprices/international_price_indian_basket.xlsx"</span>,</span>
<span id="cb3-15">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sheet =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"diesel"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>diesel</span>
<span id="cb3-16"></span>
<span id="cb3-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(diesel, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>diesel</span>
<span id="cb3-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">match</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(diesel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>), month.abb))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>diesel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable</span>
<span id="cb3-19"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(diesel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(diesel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>),</span>
<span id="cb3-20">                  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(diesel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>diesel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year</span>
<span id="cb3-21"></span>
<span id="cb3-22"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(diesel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, diesel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>diesel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date</span>
<span id="cb3-23"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Diesel"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>diesel<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Fuel</span>
<span id="cb3-24"></span>
<span id="cb3-25"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Pertol International Price</span></span>
<span id="cb3-26"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.table</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_excel</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fuelprices/international_price_indian_basket.xlsx"</span>,</span>
<span id="cb3-27">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sheet =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"petrol"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>petrol</span>
<span id="cb3-28"></span>
<span id="cb3-29"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(petrol, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>petrol</span>
<span id="cb3-30"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">match</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(petrol<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>), month.abb))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>petrol<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable</span>
<span id="cb3-31"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(petrol<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(petrol<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>),</span>
<span id="cb3-32">                  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(petrol<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>petrol<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year</span>
<span id="cb3-33"></span>
<span id="cb3-34"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(petrol<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, petrol<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>variable, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>petrol<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date</span>
<span id="cb3-35"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Petrol"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>petrol<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Fuel</span>
<span id="cb3-36"></span>
<span id="cb3-37"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Merge Diesel and Petrol</span></span>
<span id="cb3-38"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(diesel, petrol)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>fuel</span></code></pre></div></div>
</details>
</div>
<p>Visualizations</p>
<p>Average Crude Oil FOB Price (Indian Basket)</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(avgcrude, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Price, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-3">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Dollars per Barrel)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Average Crude Oil FOB Price (Indian Basket)"</span>)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Crude Oil FOB Price (Indian Basket)</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(crude, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-3">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 years"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Dollars per Barrel)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb5-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Crude Oil FOB Price (Indian Basket)"</span>)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Diesel FOB International Price</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(diesel, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-3">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%b"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3 months"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Dollars per Barrel)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Diesel FOB International Price"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p1</span>
<span id="cb6-7">p1</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Petrol FOB International Price</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(petrol, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-3">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%b"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3 months"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Dollars per Barrel)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Petrol FOB International Price"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p2</span>
<span id="cb7-7">p2</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grid.arrange</span>(p1, p2)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Disesl and Petrol FOB International Price</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(fuel, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-3">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>Fuel) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 years"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Dollars per Barrel)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Disesl and Petrol FOB International Price"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb9-7">p</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Import of Crude oil and Petroleum Products</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.table</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_excel</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fuelprices/IMPORT_EXPORT.xlsx"</span>,</span>
<span id="cb10-2">                         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">sheet =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"PT_IMPORT_H"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb10-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(t, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"IMPORT_EXPORT"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb10-4"></span>
<span id="cb10-5">t[IMPORT_EXPORT <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"CRUDE OIL"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"TOTAL PRODUCT IMPORT"</span>)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>imp</span>
<span id="cb10-6"></span>
<span id="cb10-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(imp, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> variable, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> IMPORT_EXPORT)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-9">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>,</span>
<span id="cb10-13">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Qty (000 Metric Tonnes)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Import of Crude oil and Petroleum Products"</span>)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##ggsave("import-crude-and-petroleum.png", width = 15, height = 8)</span></span></code></pre></div></div>
</details>
</div>
<p>Crude Oil Price</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fread</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fuelprices/eia-oil-prices.csv"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb12-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y-%b-%d"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date</span>
<span id="cb12-3"></span>
<span id="cb12-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> RBRTE, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-6">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Dollars per Barrel)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb12-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2 years"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb12-9">p</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="fuel-price-in-metro-cities-of-india" class="level2">
<h2 class="anchored" data-anchor-id="fuel-price-in-metro-cities-of-india">Fuel Price in Metro Cities of India</h2>
<p>Load Data</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fread</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/fuelprices/india_retail_fuelprices.csv"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb13-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.Date</span>(t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">format =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%d/%m/%y"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Date</span>
<span id="cb13-3"></span>
<span id="cb13-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(t, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fuel"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb13-5"></span>
<span id="cb13-6">t[Fuel <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Petrol"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>petrol</span>
<span id="cb13-7">t[Fuel <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Diesel"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>diesel</span>
<span id="cb13-8"></span>
<span id="cb13-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(petrol, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fuel"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>petrol</span>
<span id="cb13-10">petrol[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">order</span>(Date)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>petrol</span>
<span id="cb13-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tail</span>(petrol, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>petrol1</span>
<span id="cb13-12"></span>
<span id="cb13-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(diesel, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Date"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fuel"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>diesel</span>
<span id="cb13-14">diesel[<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">order</span>(Date)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>diesel</span>
<span id="cb13-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tail</span>(diesel, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">n =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>diesel1</span></code></pre></div></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t1, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> Fuel)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.6</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>variable) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-4">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 years"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Rs./Litre)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb14-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fuel Price in Metro City"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb14-8"></span>
<span id="cb14-9">p</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Petrol Price</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Petrol Price</span></span>
<span id="cb15-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(petrol, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>variable) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> petrol1, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value,</span>
<span id="cb15-6">                                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sprintf</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%0.2f"</span>, value)),</span>
<span id="cb15-7">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>,</span>
<span id="cb15-8">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>,</span>
<span id="cb15-9">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.9</span>,</span>
<span id="cb15-10">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-11">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 years"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Rs./Litre)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb15-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Pertol Price"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p1</span>
<span id="cb15-15">p1</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Diesel Price</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Diesel Price</span></span>
<span id="cb16-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(diesel, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb16-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.5</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb16-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>variable) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb16-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> diesel1, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value,</span>
<span id="cb16-6">                                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sprintf</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%0.2f"</span>, value)),</span>
<span id="cb16-7">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"red"</span>,</span>
<span id="cb16-8">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>,</span>
<span id="cb16-9">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,</span>
<span id="cb16-10">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb16-11">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb16-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 years"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb16-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Rs./Litre)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb16-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Diesel Price"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p2</span>
<span id="cb16-15">p2</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1">cowplot<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot_grid</span>(p1,</span>
<span id="cb17-2">                   p2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb17-3">                              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.ticks.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb17-4">                              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title.y =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>()))</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## ggsave("fuel-price.png", width = 15, height = 8)</span></span></code></pre></div></div>
</details>
</div>
<p>Daily Fuel Price in different City</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Delhi Petrol Diesel Daily Price</span></span>
<span id="cb19-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span>Delhi, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>Fuel) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-5">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 years"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb19-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Rs./Litre)"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb19-8">p</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Mumbai Petrol Diesel Daily Price</span></span>
<span id="cb20-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Mumbai, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>Fuel) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-5">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 years"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb20-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Rs./Litre)"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb20-8"></span>
<span id="cb20-9">p</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-17-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Chennai Petrol Diesel Daily Price</span></span>
<span id="cb21-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Chennai, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb21-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb21-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>Fuel) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb21-5">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb21-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 years"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb21-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Rs./Litre)"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb21-8">p</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-17-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Kolkata Petrol Diesel Daily Price</span></span>
<span id="cb22-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Date, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Kolkata, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb22-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.8</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb22-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>Fuel) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb22-5">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb22-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_x_date</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_labels =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%Y"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">date_breaks =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1 years"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb22-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Price (Rs./Litre)"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb22-8">p</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice_files/figure-html/unnamed-chunk-17-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>

 ]]></description>
  <category>Fuel</category>
  <category>Prices</category>
  <guid>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/fuelprice.html</guid>
  <pubDate>Wed, 29 Oct 2025 18:30:00 GMT</pubDate>
</item>
<item>
  <title>Public Procurement</title>
  <dc:creator>Pawan </dc:creator>
  <link>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/procurement.html</link>
  <description><![CDATA[ 




<ul>
<li>Whatever foodgrains are produced and offered, i.e.&nbsp;wheat, paddy, coarse grains, by the farmers, within the stipulated procurement period are purchased by the State Government Agencies including the Food Corporation of India (FCI) at Minimum Support price (MSP).</li>
<li>The government procures foodgrains in order to ensure farmers receive the minimum support price (MSP) and a stock is maintained to distribute to the poor under the Public Distribution System (PDS) and other schemes and also to ensure the countrys food security.</li>
<li>Before the harvest during each Crop season, the Government of India announces the Minimum Support Price (MSP) for procurement.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(data.table)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fread</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/procurement/procurement.csv"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb1-5">t1[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Total=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Total),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">FCI=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(FCI),</span>
<span id="cb1-6">      <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">StateAgency=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(StateAgency)),.(Crop,MarketingSeason)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t1,<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x=</span>MarketingSeason,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span>Total,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill=</span>Crop))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb1-9">p<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">facet_wrap</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span>Crop)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb1-10">p<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_size=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb1-11">p<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"none"</span>,</span>
<span id="cb1-12">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.x=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p</span>
<span id="cb1-13">p<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Qty (in LMT)"</span>)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/procurement_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="paddy-procurement" class="level2">
<h2 class="anchored" data-anchor-id="paddy-procurement">Paddy Procurement</h2>
<ul>
<li>Paddy procurement marketing season in India begins each year on 1st October and ends on 30th September the following year.</li>
<li>The figure gives the month-wise weekly paddy procurement in India for about 3.5 years from 2018 to 2022.</li>
<li>Overall paddy procurement has been increasing over the last 3 years.</li>
<li>There was a fall in procurement in Oct-Dec (2021-22) over the same period in the previous year.</li>
<li>Paddy procurement however picked up subsequently and was higher in Jan-Mar (2021-22) over the corresponding period in 2020-21.</li>
<li>The decline in procurement in Oct-Dec (2021-22) is mainly because of the decline in paddy procurement in Haryana and Punjab.</li>
<li>And the recovery in procurement starting in January end 2022 is due to a large increase in paddy procurement in Chhattisgarh and Madhya Pradesh.</li>
<li>The paddy procurement in Haryana in this season is much less as compared to the previous seasons</li>
</ul>


</section>

 ]]></description>
  <category>Food</category>
  <guid>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/procurement.html</guid>
  <pubDate>Wed, 29 Oct 2025 18:30:00 GMT</pubDate>
</item>
<item>
  <title>Trade Statistics</title>
  <dc:creator>Pawan </dc:creator>
  <link>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/trade.html</link>
  <description><![CDATA[ 




<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(data.table)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gridExtra)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(readxl)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(viridis)</span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(hrbrthemes)</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/trade/totaltrade/total_exportsusd.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>usd</span>
<span id="cb1-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/trade/totaltrade/total_exportsqty.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>qty</span>
<span id="cb1-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/trade/totaltrade/total_importsusd.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>musd</span>
<span id="cb1-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/trade/totaltrade/total_importsqty.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>mqty</span>
<span id="cb1-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.data.table</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">read_excel</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/trade/totaltrade/two-digit.xlsx"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>twodigit</span>
<span id="cb1-13"></span>
<span id="cb1-14">my_theme <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">16</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>  <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Start with theme_bw and increase base size</span></span>
<span id="cb1-15">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"serif"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#333333"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set font family and color</span></span>
<span id="cb1-16">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bold"</span>,</span>
<span id="cb1-17">                                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">margin =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">margin</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Center and style title</span></span>
<span id="cb1-18">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>),</span>
<span id="cb1-19">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>),</span>
<span id="cb1-20">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,</span>
<span id="cb1-21">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),  <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Remove legend title</span></span>
<span id="cb1-22">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#EEEEEE"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Lighter grid lines</span></span>
<span id="cb1-23">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.border =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Remove panel border</span></span>
<span id="cb1-24">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.line =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#333333"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Add axis lines</span></span>
<span id="cb1-25">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb1-26">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">strip.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#F2F2F2"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>) <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Style facet strips (if used)</span></span>
<span id="cb1-27">          )</span></code></pre></div></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Export Data Cleaning</span></span>
<span id="cb2-2">usd[,HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)]</span>
<span id="cb2-3">usd[,HSCode6 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)]</span>
<span id="cb2-4">usd[,HSCode2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)]</span>
<span id="cb2-5">qty[,HSCode2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)]</span>
<span id="cb2-6">qty[,HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)]</span>
<span id="cb2-7">qty[,HSCode6 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)]</span>
<span id="cb2-8"></span>
<span id="cb2-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(twodigit<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode2)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>twodigit<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode2</span>
<span id="cb2-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode2)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode2</span>
<span id="cb2-11"></span>
<span id="cb2-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">merge</span>(qty,twodigit,<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HSCode2"</span>),<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">all.x=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>qty</span>
<span id="cb2-13"></span>
<span id="cb2-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Export))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Export</span>
<span id="cb2-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Export), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Export)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>qty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Export</span>
<span id="cb2-16"></span>
<span id="cb2-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, usd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Export))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>usd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Export</span>
<span id="cb2-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(usd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Export), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, usd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Export)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>usd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Export</span>
<span id="cb2-19"></span>
<span id="cb2-20">qty[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Export_Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Export)),.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>exportqty</span>
<span id="cb2-21">usd[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Export_USD =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Export)),.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>exportusd</span>
<span id="cb2-22"></span>
<span id="cb2-23">qty[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Export)),.(Year, HSCode2)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>hscode2</span>
<span id="cb2-24">hscode2[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)),.(HSCode2)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>a</span>
<span id="cb2-25"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##a[, Share := round(Qty*100/(sum(a$Qty)),2)][order(Share)]</span></span>
<span id="cb2-26"></span>
<span id="cb2-27"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Import Data Cleaning</span></span>
<span id="cb2-28">musd[,HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)]</span>
<span id="cb2-29">musd[,HSCode6 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)]</span>
<span id="cb2-30">musd[,HSCode2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)]</span>
<span id="cb2-31">mqty[,HSCode2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)]</span>
<span id="cb2-32">mqty[,HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)]</span>
<span id="cb2-33">mqty[,HSCode6 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(HSCode, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>)]</span>
<span id="cb2-34"></span>
<span id="cb2-35"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, mqty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Import))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>mqty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Import</span>
<span id="cb2-36"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(mqty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Import), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, mqty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Import)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>mqty<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Import</span>
<span id="cb2-37"></span>
<span id="cb2-38"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, musd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Import))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>musd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Import</span>
<span id="cb2-39"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">is.na</span>(musd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Import), <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, musd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Import)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>musd<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Import</span>
<span id="cb2-40"></span>
<span id="cb2-41">mqty[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Import_Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import)),.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>importqty</span>
<span id="cb2-42">musd[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Import_USD =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import)),.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>importusd</span>
<span id="cb2-43"></span>
<span id="cb2-44">mqty[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import)),.(Year, HSCode2)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>hscode21</span>
<span id="cb2-45">hscode21[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Qty)),.(HSCode2)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>b</span>
<span id="cb2-46"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">##b[, Share := round(Qty*100/(sum(b$Qty)),2)][order(Share)]</span></span>
<span id="cb2-47"></span>
<span id="cb2-48"></span>
<span id="cb2-49"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Net Trade Tarde Balance</span></span>
<span id="cb2-50"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">merge</span>(exportqty, importqty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>trade</span>
<span id="cb2-51"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">merge</span>(trade, exportusd, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>trade</span>
<span id="cb2-52"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">merge</span>(trade, importusd, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Year"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>trade</span>
<span id="cb2-53"></span>
<span id="cb2-54">trade[, Trade_Balance <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span> (Export_USD <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> Import_USD)]</span></code></pre></div></div>
</details>
</div>
<section id="trade-statistics" class="level1">
<h1>Trade Statistics</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(trade, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Export_USD, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-3">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"US $ Million"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Net Exports By India"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p1</span>
<span id="cb3-7">p1</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/trade_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(trade, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Import_USD, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-3">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"US $ Million"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb4-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Net Imports By India"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p2</span>
<span id="cb4-7">p2</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/trade_files/figure-html/unnamed-chunk-3-2.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">grid.arrange</span>(p1, p2)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/trade_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Trade Balance</span></span>
<span id="cb6-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(trade, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Trade_Balance, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-4">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"US $ Million"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Trade Balance"</span>)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/trade_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="cereals-export" class="level1">
<h1>Cereals Export</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">qty[HSCode2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"10"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t0</span>
<span id="cb7-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(t0<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1006"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rice"</span>,</span>
<span id="cb7-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(t0<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1001"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Wheat"</span>,</span>
<span id="cb7-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(t0<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"1005"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Maize"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other Ceraeals"</span>)))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t0<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity4</span>
<span id="cb7-5">t0[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Export)),.(Year, Commodity4)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t0</span>
<span id="cb7-6"></span>
<span id="cb7-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(t0<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity4, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other Ceraeals"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Maize"</span>,</span>
<span id="cb7-8">                                    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Wheat"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Rice"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t0<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity4</span>
<span id="cb7-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t0, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Commodity4), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-11">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set1"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-14">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Quantity (Thousands Tonns)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-15">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Cereals Exports"</span>)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/trade_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="fertilizer-import" class="level1">
<h1>Fertilizer Import</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">mqty[HSCode2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"31"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>f</span>
<span id="cb8-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(f<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3102"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Nitrogenous Fertilizer"</span>,</span>
<span id="cb8-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(f<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3104"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Potassic Fertilizer"</span>,</span>
<span id="cb8-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(f<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"3105"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"DAP and NPK"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other Chemical Fertilizer"</span>)))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>f<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity4</span>
<span id="cb8-5">f[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import)),.(Year, Commodity4)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>f</span>
<span id="cb8-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(f, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Commodity4), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_viridis</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">discrete =</span> T, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">option =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"E"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_ipsum</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-10">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Quantity (Thousands Tonns)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fertilizer Imports"</span>)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/trade_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="fats-and-oil-import" class="level1">
<h1>Fats and Oil Import</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">mqty[HSCode2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"15"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>h1</span>
<span id="cb9-2">h1[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import)),.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>h1</span>
<span id="cb9-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(h1, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">group =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">linewidth =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-5">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Quantity (Thousands Tonns)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb9-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Vegetable Fats and Edible Oils Imports"</span>)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/trade_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="petrolium-import" class="level1">
<h1>Petrolium Import</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">mqty[HSCode2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"27"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>h2</span>
<span id="cb10-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(h2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2701"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Coal"</span>,</span>
<span id="cb10-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(h2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2709"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Petrolium Oils"</span>,</span>
<span id="cb10-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(h2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>HSCode4 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2711"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Petrolium Gases"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other Petrolium"</span>)))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>h2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Commodity4</span>
<span id="cb10-5">h2[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Qty =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import)),.(Year, Commodity4)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>h2</span>
<span id="cb10-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(h2, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Qty)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Commodity4), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-8">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Quantity (Thousands Tonns)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Petrolium Imports"</span>)</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/trade_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="1344"></p>
</figure>
</div>
</div>
</div>


</section>

 ]]></description>
  <category>Trade</category>
  <guid>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/trade.html</guid>
  <pubDate>Tue, 28 Oct 2025 18:30:00 GMT</pubDate>
</item>
<item>
  <title>Edible Oils Import by India</title>
  <dc:creator>Pawan </dc:creator>
  <link>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/edibleoil.html</link>
  <description><![CDATA[ 




<p>India, one of the worlds largest consumers and importers of edible oils, has seen significant evolution in its import basket over the last decade. An analysis of import data from the financial year (from Nov to Oct) 2010-2011 through 2023-2024 reveals a dynamic volume growth, shifting consumer preferences, and geopolitical influences on sourcing.</p>
<p>The data clearly indicates a robust long-term growth trend in the total quantity of edible oil imported by India, with quantities often exceeding 15,000,000 tonnes in recent years. # Annually (April to March) Edible Oils Import by India</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(data.table)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gridExtra)</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(gt)</span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggthemes) <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## For more themes</span></span>
<span id="cb1-6"></span>
<span id="cb1-7"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Custom theme for plots</span></span>
<span id="cb1-8">my_theme <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme_bw</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">base_size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">16</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>  <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Start with theme_bw and increase base size</span></span>
<span id="cb1-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"serif"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#333333"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set font family and color</span></span>
<span id="cb1-10">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">plot.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">face =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bold"</span>,</span>
<span id="cb1-11">                                    <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">margin =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">margin</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Center and style title</span></span>
<span id="cb1-12">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>),</span>
<span id="cb1-13">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14</span>),</span>
<span id="cb1-14">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"bottom"</span>,</span>
<span id="cb1-15">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">legend.title =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),  <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Remove legend title</span></span>
<span id="cb1-16">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid.major =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#EEEEEE"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Lighter grid lines</span></span>
<span id="cb1-17">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.border =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Remove panel border</span></span>
<span id="cb1-18">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.line =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_line</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#333333"</span>), <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Add axis lines</span></span>
<span id="cb1-19">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text.x =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_text</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">angle =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">90</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">hjust=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),</span>
<span id="cb1-20">          <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">strip.background =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_rect</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#F2F2F2"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">NA</span>) <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Style facet strips (if used)</span></span>
<span id="cb1-21">          )</span></code></pre></div></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/edibleoils/palmoil_import.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>palm</span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/edibleoils/soyabean_import.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>soyabean</span>
<span id="cb2-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/edibleoils/sunflower_import.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>sunflower</span>
<span id="cb2-4"></span>
<span id="cb2-5"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Palm Oil"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>palm<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Edibleoil</span>
<span id="cb2-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Soyabean Oil"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>soyabean<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Edibleoil</span>
<span id="cb2-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sunflower Oil"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>sunflower<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Edibleoil</span>
<span id="cb2-8"></span>
<span id="cb2-9"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(palm<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,</span>
<span id="cb2-10">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(palm<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>palm<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year</span>
<span id="cb2-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(palm<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LagYear,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,</span>
<span id="cb2-12">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(palm<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LagYear,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>)))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>palm<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LagYear</span>
<span id="cb2-13"></span>
<span id="cb2-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(soyabean<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,</span>
<span id="cb2-15">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(soyabean<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>soyabean<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year</span>
<span id="cb2-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(soyabean<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LagYear,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,</span>
<span id="cb2-17">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(soyabean<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LagYear,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>)))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>soyabean<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LagYear</span>
<span id="cb2-18"></span>
<span id="cb2-19"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(sunflower<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,</span>
<span id="cb2-20">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(sunflower<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>sunflower<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year</span>
<span id="cb2-21"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(sunflower<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LagYear,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,</span>
<span id="cb2-22">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">substr</span>(sunflower<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LagYear,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>)))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>sunflower<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>LagYear</span>
<span id="cb2-23"></span>
<span id="cb2-24"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbind</span>(palm,soyabean,sunflower)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>edibleoil</span>
<span id="cb2-25"></span>
<span id="cb2-26">edibleoil[Country<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Share=</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(ImportYear<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(ImportYear))),</span>
<span id="cb2-27">                             Edibleoil,ImportYear),.(Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>oil</span></code></pre></div></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(oil, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> ImportYear, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Edibleoil)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> ImportYear,</span>
<span id="cb3-4">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(Share<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Share, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>))),</span>
<span id="cb3-5">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-7">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Values in US $ Million"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edible Oil Import"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p5</span>
<span id="cb3-11">p5</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/edibleoil_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggsave</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"annual-edibleoil-import.png"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>)</span></code></pre></div></div>
</details>
</div>
<section id="compile-india-imported-edible-oil" class="level1">
<h1>Compile India Imported Edible Oil</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/edibleoils/palmoil_importqty.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>palmoil</span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/edibleoils/soybeanoil_importqty.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>soybeanoil</span>
<span id="cb5-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">readRDS</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/edibleoils/sunfloweroil_importqty.rds"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>sunfloweroil</span>
<span id="cb5-4"></span>
<span id="cb5-5"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Data Cleaning</span></span>
<span id="cb5-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,palmoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>palmoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth</span>
<span id="cb5-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,soybeanoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>soybeanoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth</span>
<span id="cb5-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gsub</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">","</span>,<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>,sunfloweroil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>sunfloweroil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>ImportMonth</span>
<span id="cb5-9"></span>
<span id="cb5-10"><span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Change Calender Year to Oil Year (Nov to Oct)</span></span>
<span id="cb5-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">match</span>(palmoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month,month.abb)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>palmoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month</span>
<span id="cb5-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(palmoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>((palmoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(palmoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)),</span>
<span id="cb5-13">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(palmoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(palmoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>palmoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Fin_Year</span>
<span id="cb5-14"></span>
<span id="cb5-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">match</span>(soybeanoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month,month.abb)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>soybeanoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month</span>
<span id="cb5-16"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(soybeanoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>((soybeanoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(soybeanoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)),</span>
<span id="cb5-17">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(soybeanoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(soybeanoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>soybeanoil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Fin_Year</span>
<span id="cb5-18"></span>
<span id="cb5-19"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">match</span>(sunfloweroil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month,month.abb)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>sunfloweroil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month</span>
<span id="cb5-20"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(sunfloweroil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Month)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>((sunfloweroil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(sunfloweroil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)),</span>
<span id="cb5-21">       <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>((<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(sunfloweroil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>),<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"-"</span>,(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(sunfloweroil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Year))))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>sunfloweroil<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Fin_Year</span>
<span id="cb5-22"></span>
<span id="cb5-23">palmoil[Country<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Import =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))</span>
<span id="cb5-24">        ,.(Country,Fin_Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table1</span>
<span id="cb5-25"></span>
<span id="cb5-26">soybeanoil[Country<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Import =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))</span>
<span id="cb5-27">         ,.(Country,Fin_Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table2</span>
<span id="cb5-28"></span>
<span id="cb5-29">sunfloweroil[Country<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span>,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Import =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))</span>
<span id="cb5-30">           ,.(Country,Fin_Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table3</span>
<span id="cb5-31"></span>
<span id="cb5-32"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"INDONESIA"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"MALAYSIA"</span>),</span>
<span id="cb5-33">       table1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other Countries"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table1<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country</span>
<span id="cb5-34"></span>
<span id="cb5-35"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ARGENTINA"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"BRAZIL"</span>),</span>
<span id="cb5-36">       table2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other Countries"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table2<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country</span>
<span id="cb5-37"></span>
<span id="cb5-38"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(table3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%in%</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"UKRAINE"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"RUSSIA"</span>),</span>
<span id="cb5-39">       table3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Other Countries"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table3<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Country</span>
<span id="cb5-40"></span>
<span id="cb5-41">table1[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Import=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import)),.(Country,Fin_Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table1</span>
<span id="cb5-42">table2[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Import=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import)),.(Country,Fin_Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table2</span>
<span id="cb5-43">table3[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Import=</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import)),.(Country,Fin_Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table3</span>
<span id="cb5-44"></span>
<span id="cb5-45">table1[Fin_Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2010-2011"</span>,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Share=</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Import<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import))),</span>
<span id="cb5-46">                               Country,Import),.(Fin_Year)][Fin_Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024-2025"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table1</span>
<span id="cb5-47"></span>
<span id="cb5-48">table2[Fin_Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2010-2011"</span>,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Share=</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Import<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import))),</span>
<span id="cb5-49">                               Country,Import),.(Fin_Year)][Fin_Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024-2025"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table2</span>
<span id="cb5-50"></span>
<span id="cb5-51">table3[Fin_Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2010-2011"</span>,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Share=</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Import<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(Import))),</span>
<span id="cb5-52">                               Country,Import),.(Fin_Year)][Fin_Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024-2025"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table3</span></code></pre></div></div>
</details>
</div>
<section id="palm-oil" class="level2">
<h2 class="anchored" data-anchor-id="palm-oil">Palm Oil</h2>
<p>Palm oil remains the single largest imported oil, but its proportional share has decreased. It accounted for a high of 79% of total imports in 2010-2011, but this share has trended downwards, settling at 56% in 2023-2024. India maintains a near-exclusive on its Southeast Asian neighbours for palm oil, with Indonesia and Malaysia consistently dominating the supply chain. While the proportional distribution between the two varies year-to-yearwith Malaysia often holding the slight edge in the mid-period (e.g., 71% in 2013-2014)the combined share of these two nations routinely exceeds 90%, highlighting a concentrated supply risk.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(table1, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Fin_Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Import, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Country)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Fin_Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Import,</span>
<span id="cb6-4">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(Share<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Share, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>))),</span>
<span id="cb6-5">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">## Set bar color</span></span>
<span id="cb6-7">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Quantity (Tonns)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb6-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Palm Oil Import"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p1</span>
<span id="cb6-11">p1</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/edibleoil_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="soybean-oil" class="level2">
<h2 class="anchored" data-anchor-id="soybean-oil">Soybean Oil</h2>
<p>Soybean oil has maintained a volatile but stable proportion, fluctuating between 15% and 30% over the period. The import of soybean oil is heavily dictated by South American supply, with Argentina acting as the primary source. Argentina consistently provided over 70% of Indias soybean oil needs for much of the period. Brazil plays a significant, though secondary, role, with its share showing an upward trend in certain recent financial years.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(table2, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Fin_Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Import, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Country)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Fin_Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Import,</span>
<span id="cb7-4">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(Share<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Share, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>))),</span>
<span id="cb7-5">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-7">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Quantity (Tonns)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb7-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Soybean Oil Import"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p2</span>
<span id="cb7-11">p2</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/edibleoil_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sunflower-oil" class="level2">
<h2 class="anchored" data-anchor-id="sunflower-oil">Sunflower Oil</h2>
<p>The most striking trend is the increasing reliance on sunflower oil. For the better part of the decade (2010-2011 to 2020-2021), sunflower oil constituted a minor share, typically between 6% and 14%. However, in the latest period (2023-2024), its share has surged to a high of 22%, indicating a significant structural shift in consumer demand and import policy favouring softer oils.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(table3, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Fin_Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Import, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Country)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Fin_Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Import,</span>
<span id="cb8-4">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(Share<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Share, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>))),</span>
<span id="cb8-5">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-7">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Quantity (Tonns)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb8-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sunflower Oil Import"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p3</span>
<span id="cb8-11">p3</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/edibleoil_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="total-of-edible-oils-oil-year-from-nov-to-oct" class="level2">
<h2 class="anchored" data-anchor-id="total-of-edible-oils-oil-year-from-nov-to-oct">Total of Edible Oils (Oil year from Nov to Oct)</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">palmoil[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Palmoil =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))</span>
<span id="cb9-2">        ,.(Country, Fin_Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table4</span>
<span id="cb9-3"></span>
<span id="cb9-4">soybeanoil[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Soybeanoil =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))</span>
<span id="cb9-5">         ,.(Country, Fin_Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table5</span>
<span id="cb9-6"></span>
<span id="cb9-7">sunfloweroil[Country <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Total"</span> ,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Sunfloweroil =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">as.numeric</span>(ImportMonth), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">na.rm=</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>))</span>
<span id="cb9-8">           ,.(Country, Fin_Year)]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>table6</span>
<span id="cb9-9"></span>
<span id="cb9-10"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">merge</span>(table4, table5, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Country"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fin_Year"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb9-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">merge</span>(t1, table6, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">by =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Country"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fin_Year"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb9-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">melt</span>(t1, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Country"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Fin_Year"</span>))<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb9-13"></span>
<span id="cb9-14">t1[Fin_Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2010-2011"</span>,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Share=</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(value<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(value))),</span>
<span id="cb9-15">                           variable,value),.(Fin_Year)][Fin_Year<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">!=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2024-2025"</span>]<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t1</span>
<span id="cb9-16"></span>
<span id="cb9-17"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">gt</span>(t1[,.(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">EdibeOil=</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">sum</span>(value))),.(Fin_Year)])</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div id="yspixfeztu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#yspixfeztu table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#yspixfeztu thead, #yspixfeztu tbody, #yspixfeztu tfoot, #yspixfeztu tr, #yspixfeztu td, #yspixfeztu th {
  border-style: none;
}

#yspixfeztu p {
  margin: 0;
  padding: 0;
}

#yspixfeztu .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yspixfeztu .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#yspixfeztu .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yspixfeztu .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yspixfeztu .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yspixfeztu .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yspixfeztu .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yspixfeztu .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yspixfeztu .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yspixfeztu .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yspixfeztu .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yspixfeztu .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yspixfeztu .gt_spanner_row {
  border-bottom-style: hidden;
}

#yspixfeztu .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#yspixfeztu .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yspixfeztu .gt_from_md > :first-child {
  margin-top: 0;
}

#yspixfeztu .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yspixfeztu .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yspixfeztu .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#yspixfeztu .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#yspixfeztu .gt_row_group_first td {
  border-top-width: 2px;
}

#yspixfeztu .gt_row_group_first th {
  border-top-width: 2px;
}

#yspixfeztu .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yspixfeztu .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#yspixfeztu .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#yspixfeztu .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yspixfeztu .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yspixfeztu .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yspixfeztu .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#yspixfeztu .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yspixfeztu .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yspixfeztu .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yspixfeztu .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yspixfeztu .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yspixfeztu .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yspixfeztu .gt_left {
  text-align: left;
}

#yspixfeztu .gt_center {
  text-align: center;
}

#yspixfeztu .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yspixfeztu .gt_font_normal {
  font-weight: normal;
}

#yspixfeztu .gt_font_bold {
  font-weight: bold;
}

#yspixfeztu .gt_font_italic {
  font-style: italic;
}

#yspixfeztu .gt_super {
  font-size: 65%;
}

#yspixfeztu .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#yspixfeztu .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#yspixfeztu .gt_indent_1 {
  text-indent: 5px;
}

#yspixfeztu .gt_indent_2 {
  text-indent: 10px;
}

#yspixfeztu .gt_indent_3 {
  text-indent: 15px;
}

#yspixfeztu .gt_indent_4 {
  text-indent: 20px;
}

#yspixfeztu .gt_indent_5 {
  text-indent: 25px;
}

#yspixfeztu .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#yspixfeztu div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>

<table class="gt_table caption-top table table-sm table-striped small" data-quarto-bootstrap="false">
<thead>
<tr class="gt_col_headings header">
<th id="Fin_Year" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">Fin_Year</th>
<th id="EdibeOil" class="gt_col_heading gt_columns_bottom_border gt_right" data-quarto-table-cell-role="th" scope="col">EdibeOil</th>
</tr>
</thead>
<tbody class="gt_table_body">
<tr class="odd">
<td class="gt_row gt_right" headers="Fin_Year">2010-2011</td>
<td class="gt_row gt_right" headers="EdibeOil">6786377</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Fin_Year">2011-2012</td>
<td class="gt_row gt_right" headers="EdibeOil">9107348</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="Fin_Year">2012-2013</td>
<td class="gt_row gt_right" headers="EdibeOil">9625774</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Fin_Year">2013-2014</td>
<td class="gt_row gt_right" headers="EdibeOil">10571314</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="Fin_Year">2014-2015</td>
<td class="gt_row gt_right" headers="EdibeOil">13039668</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Fin_Year">2015-2016</td>
<td class="gt_row gt_right" headers="EdibeOil">13276920</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="Fin_Year">2016-2017</td>
<td class="gt_row gt_right" headers="EdibeOil">14143552</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Fin_Year">2017-2018</td>
<td class="gt_row gt_right" headers="EdibeOil">13359830</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="Fin_Year">2018-2019</td>
<td class="gt_row gt_right" headers="EdibeOil">14468990</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Fin_Year">2019-2020</td>
<td class="gt_row gt_right" headers="EdibeOil">12529725</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="Fin_Year">2020-2021</td>
<td class="gt_row gt_right" headers="EdibeOil">12792087</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Fin_Year">2021-2022</td>
<td class="gt_row gt_right" headers="EdibeOil">13288180</td>
</tr>
<tr class="odd">
<td class="gt_row gt_right" headers="Fin_Year">2022-2023</td>
<td class="gt_row gt_right" headers="EdibeOil">15609676</td>
</tr>
<tr class="even">
<td class="gt_row gt_right" headers="Fin_Year">2023-2024</td>
<td class="gt_row gt_right" headers="EdibeOil">7882940</td>
</tr>
</tbody>
</table>

</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t1, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Fin_Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> variable)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-2">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"stack"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Fin_Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value,</span>
<span id="cb10-4">                  <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(Share<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Share, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>))),</span>
<span id="cb10-5">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-6">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_fill_brewer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">palette=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Set2"</span>)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-7">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_continuous</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">labels =</span> scales<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">::</span>comma) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-9">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Quantity (Tonns)"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb10-10">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Edible Oil Imports By India"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p4</span>
<span id="cb10-11">p4</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/edibleoil_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="india-edible-oil-culativation-and-production" class="level1">
<h1>India Edible Oil Culativation and Production</h1>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">fread</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"/home/pawan/edibleoils/oil_aval.csv"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>t</span>
<span id="cb11-2"></span>
<span id="cb11-3">t[,Domestic_Share<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Domestic_Availability<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>Total_Availability_LMT))]</span>
<span id="cb11-4">t[,Import_Share<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="er" style="color: #AD0000;
background-color: null;
font-style: inherit;">=</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(Imports<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>Total_Availability_LMT))]</span>
<span id="cb11-5"></span>
<span id="cb11-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(t, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> Year, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> Domestic_Share)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-7">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_bar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">stat =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"identity"</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"#5F9EA0"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-8">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(Domestic_Share, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"%"</span>)),</span>
<span id="cb11-9">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">size =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-10">    my_theme <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-11">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylim</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">60</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-12">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"% Self Sufficiency"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb11-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggtitle</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"% Self Sufficiency"</span>)<span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">-&gt;</span>p5</span>
<span id="cb11-14">p5</span></code></pre></div></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/edibleoil_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>


</section>

 ]]></description>
  <category>Trade</category>
  <category>Edible Oils</category>
  <guid>https://pawan1198.github.io/portfolio/data_vizs.html/data_vizs/edibleoil.html</guid>
  <pubDate>Mon, 27 Oct 2025 18:30:00 GMT</pubDate>
</item>
</channel>
</rss>
